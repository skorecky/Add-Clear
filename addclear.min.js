// Author: Stephen Korecky
// Plugin Website: http://github.com/skorecky/Add-Clear
!function(e){function i(i,s){this.element=i,this.options=e.extend({},n,s),this._defaults=n,this._name=t,this.init()}var t="addClear",n={closeSymbol:"&#10006;",color:"#CCC",top:1,right:4,returnFocus:!0,showOnLoad:!1,onClear:null,hideOnBlur:!1,clearOnEscape:!0};i.prototype={init:function(){var i=e(this.element),t=this,n=this.options;i.wrap("<span style='position:relative;' class='add-clear-span'></span>"),i.after(e("<a href='#clear' style='display: none;'>"+n.closeSymbol+"</a>")),i.next().css({color:n.color,"text-decoration":"none",display:"none","line-height":1,overflow:"hidden",position:"absolute",right:n.right,top:n.top},this),i.val().length>=1&&n.showOnLoad===!0&&i.siblings("a[href='#clear']").show(),i.focus(function(){e(this).val().length>=1&&e(this).siblings("a[href='#clear']").show()}),i.blur(function(){var i=this;n.hideOnBlur&&setTimeout(function(){e(i).siblings("a[href='#clear']").hide()},50)}),i.keyup(function(i){n.clearOnEscape===!0&&27==i.keyCode&&e(this).val("").focus(),e(this).val().length>=1?e(this).siblings("a[href='#clear']").show():e(this).siblings("a[href='#clear']").hide()}),e("a[href='#clear']").click(function(i){e(this).siblings(t.element).val(""),e(this).hide(),n.returnFocus===!0&&e(this).siblings(t.element).focus(),n.onClear&&n.onClear(e(this).siblings("input")),i.preventDefault()})}},e.fn[t]=function(n){return this.each(function(){e.data(this,"plugin_"+t)||e.data(this,"plugin_"+t,new i(this,n))})}}(jQuery,window,document);
